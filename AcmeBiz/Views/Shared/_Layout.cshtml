<!DOCTYPE html>

@functions {

    // Sets navigation links to 'active' or empty string depending on view context
    public string ActiveStatus(string currentPage)
    {
        // Get view page's context (controller)
        string ctx = ViewContext.RouteData.Values["controller"].ToString();
        
        // Initialize active
        string active = String.Empty;
        
        // Test input with context
        if (currentPage.Equals(ctx))
        {
            active = "active";
        }

        // Return result
        return active;
    }

}
@{
    Dictionary<string, string> dictNavigation = new Dictionary<string, string>();
    dictNavigation["Home"] = ActiveStatus("Home");
    dictNavigation["About"] = ActiveStatus("About");
    dictNavigation["Contact"] = ActiveStatus("Contact");
}

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title - Acme Biz</title>
    @Styles.Render("~/Content/bootstrap")
    @Styles.Render("~/Content/css")

    <!--[if gte IE 9]>
      <style type="text/css">
        .gradient {
           filter: none;
        }
      </style>
    <![endif]-->


    @Scripts.Render("~/bundles/modernizr")
    <script type="text/javascript">
        window.appInsights=window.appInsights||function(ai){
            function f(t){ai[t]=function(){var i=arguments;ai.queue.push(function(){ai[t].apply(ai,i)})}}
            var t=document,r="script",u=t.createElement(r),i;for(u.src=ai.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.10.js",t.getElementsByTagName(r)[0].parentNode.appendChild(u),ai.cookie=t.cookie,ai.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)f("track"+i.pop());
            return ai;
        }({
            iKey:"bd1f14d8-71ee-4670-b4c7-a93065d4c4b0"
        });

        appInsights.trackPageView();


    </script>
</head>
<body>
 

            <nav id="page-nav" class="navbar navbar-inverse navbar-static-top" role="navigation">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        @Html.ActionLink("Acme Biz", "Index", "Home", null, new { @class = "navbar-brand"} )
                    </div>
                    <div class="navbar-collapse collapse">

                        <ul class="nav navbar-nav">
                            <li class= '@dictNavigation["Home"]' > @Html.ActionLink("Home", "Index", "Home")</li>
                            <li class='@dictNavigation["About"]'>@Html.ActionLink("About", "Index", "About")</li>
                            <li class='@dictNavigation["Contact"]'><a href="#contact">Contact</a></li>
                            <li class =  'dropdown'>
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <span class="caret"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="#">Action</a></li>
                                    <li><a href="#">Another action</a></li>
                                    <li><a href="#">Something else here</a></li>
                                    <li class="divider"></li>
                                    <li class="dropdown-header">Nav header</li>
                                    <li><a href="#">Separated link</a></li>
                                    <li><a href="#">One more separated link</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav><!-- /.page-nav -->



    <div class="container content-body">
        <div class="row">
            <div class="col-md-12">
                @RenderBody()
            </div>
        </div>
    </div>
    <!-- FOOTER -->
    <footer id="page-footer" class="">
        <div class="container">
            <div class="row ">
                <div class="col-md-12">
                    <div class="">
                        <p class="pull-right"><a href="#">Back to top</a></p>
                        <p>&copy; 2014 Acme Biz, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>

                    </div>
                </div>
            </div>
        </div>

        </footer> <!-- /.page-footer -->

        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/bootstrap")
        @Scripts.Render("~/bundles/main")

        @RenderSection("scripts", required: false)
</body>
</html>
